---
title: "Alzheimer's Disease Resarch Project"
author: "Abhinav Vedati"
date: "8/13/2020"
output: html_document
---

## Introduction

Alzheimer's Disease is one of the world's most devastating and deadly diseases. Alzheimer's Disease affects nearly 50 million people worldwide (https://www.alzheimers.net/resources/alzheimers-statistics/) and more than 5 million people in the United States (https://www.alz.org/alzheimers-dementia/facts-figures#:~:text=More%20than%205%20million%20Americans%20of%20all%20ages%20have%20Alzheimer's,are%20age%2075%20or%20older.) Despite these devastating statistics, Alzheimer's Disease is one of the least understood diseases. While progress has been made over the past several decades in finding cures and treatments for cancers and diseases such as measles, there has yet to be a single drug that improves the condition of or cures Alzheimer's Disease (all simply slow the progression of the disease). Part of the reason why we have not yet found a cure for Alzheimer's Disease is that we don't understand the underlying causes of the disease very well. In this paper, I aim to take the first steps towards establishing causality in the context of Alzheimer's Disease, by finding variables that are correlated with clinical dementia rating (a 5 point scale used to characterize the development of dementias such as Alzheimer's Disease within a patient) and Mini-Mental State Exam scores (the Mini-Mental State Exam is a quiz given to dementia patients; it is graded on a scale from 0 to 30 points, where a higher score indicates milder dementia). I will be using the following dataset, which is provided by Kaggle and the Open Access Series of Imaging Studies (OASIS): https://www.kaggle.com/jboysen/mri-and-alzheimers

## Part 1: Finding correlations

```{r setup, include=FALSE}
knitr::opts_chunk$set(include = FALSE)
```

First, we will load our dataset and inspect it using the names function. This will allow us to see the names of the columns that our dataset contains.

```{r Setup 1, echo=TRUE}
dataFrame <- read.csv("/Users/spiderfencer/Downloads/oasis_cross-sectional.csv", header=TRUE, sep=",")
names(dataFrame)
```

Next, we will define two functions, which will try to fit data to a linear model and a logarithmic model, respectively. Both of these functions will return the r squared correlation coefficient for their models.

```{r Setup 2, echo=TRUE}
plot_linear <- function(columns, name1, name2) {
  neededData = na.omit(columns)
  plot(neededData[,name1], neededData[,name2], xlab=name1, ylab=name2)
  model <- lm(neededData[,name2] ~ neededData[,name1]) 
  abline(model)
  summary(model)$r.squared
}

plot_logarithmic <- function(columns, name1, name2) {
  neededData = na.omit(columns)
  plot(neededData[,name1], log(neededData[,name2]), xlab=name1, ylab=paste("log(",name2,")", sep=""))
  model <- lm(log(neededData[,name2]) ~ neededData[,name1])
  abline(model)
  summary(model)$r.squared
}
```

We will now try to correlate the eTIV (Estimated Total Intracranial Volume) and nWBV (Normalized Whole Brain Volume) variables with MMSE.

```{r Figure 1, echo=TRUE}
R_squared_eTIV_MMSE_lin <- plot_linear(dataFrame[,c(7,9)], "eTIV", "MMSE")
R_squared_eTIV_MMSE_log <- plot_logarithmic(dataFrame[,c(7,9)], "eTIV", "MMSE")
R_squared_nWBV_MMSE_lin <- plot_linear(dataFrame[,c(7,10)], "nWBV", "MMSE")

writeLines(c(
  paste0("R_squared_eTIV_MMSE_lin: ", R_squared_eTIV_MMSE_lin),
  paste0("R_squared_eTIV_MMSE_log: ", R_squared_eTIV_MMSE_log),
  paste0("R_squared_nWBV_MMSE_lin: ", R_squared_nWBV_MMSE_lin)
))
```

It looks like R_squared_eTIV_MMSE_lin and R_squared_eTIV_MMSE_log are not statistically significant, thus there is no significant linear or nonlinear correlation between eTIV and MMSE. R_squared_nWBV_MMSE_lin represents a weak linear correlation between nWBV and MMSE, and in previous tests, trying to calculate a nonlinear correlation between nWBV and MMSE resulted in an error, and thus a nonlinear correlation does not exist between nWBV and MMSE.

## Part 2: Further inspection

We can now use some of our categorical variables, such as SES (Socio-economic status) and CDR (Clinical Dementia Rating) to find new correlations using the variance form of the Kruskal-Wallis H Test, which is described here: https://medium.com/@outside2SDs/an-overview-of-correlation-measures-between-categorical-and-continuous-variables-4c7f85610365#:~:text=There%20are%20many%20ways%20to,variance%20of%20the%20continuous%20variable.

```{r}
# http://www.sthda.com/english/wiki/one-way-anova-test-in-r
# http://onetipperday.sterding.com/2015/08/using-anova-to-get-correlation-between.html

anova_correlation <- function(columns, name1, name2) {
  neededData = na.omit(columns)
  plot(neededData[,name1], neededData[,name2], xlab=name1, ylab=name2)
  model <- aov(neededData[,name2] ~ neededData[,name1]) 
  summary.lm(model)$r.squared
}
```

```{r}
R_squared_CDR_eTIV_anova <- anova_correlation(dataFrame[,c(8,9)], "CDR", "eTIV")
R_squared_CDR_nWBV_anova <- anova_correlation(dataFrame[,c(8,10)], "CDR", "nWBV")
R_squared_MMSE_Educ_anova <- anova_correlation(dataFrame[,c(5,7)], "Educ", "MMSE")


writeLines(c(
  paste0("R_squared_CDR_eTIV_anova: ", R_squared_CDR_eTIV_anova),
  paste0("R_squared_CDR_nWBV_anova: ", R_squared_CDR_nWBV_anova),
  paste0("R_squared_MMSE_Educ_anova: ", R_squared_MMSE_Educ_anova)
))
```

## Neural Network

TODO: this

## Conclusion

TODO: this.